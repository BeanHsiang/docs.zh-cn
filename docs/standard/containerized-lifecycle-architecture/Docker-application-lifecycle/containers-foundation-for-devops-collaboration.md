---
title: 容器作为 DevOps 协作的基础
description: 了解容器来简化开发运营的关键角色。
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.openlocfilehash: 4b40837bf2b74d801b9794c88e79eb03bcd72e95
ms.sourcegitcommit: 58fc0e6564a37fa1b9b1b140a637e864c4cf696e
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/08/2019
ms.locfileid: "57679094"
---
# <a name="containers-as-the-foundation-for-devops-collaboration"></a>容器作为 DevOps 协作的基础

由容器和 Docker 技术的性质，开发人员可以其软件和依赖项通过轻松地共享 IT 操作和生产环境同时消除典型的"适用于我的计算机"借口。 容器解决不同的环境之间的应用程序冲突。 间接，容器和 Docker 将开发人员和 IT 运营更接近组合在一起，使它们更高效地协作更轻松。 采用容器工作流将许多客户提供 DevOps 连续性它们已试图但以前版本更复杂的配置通过实现和构建管道。 容器简化 DevOps 中的生成/测试/部署管道。

![Docker 可帮助开发人员和架构师之间架起桥梁基于开发/设计工作负荷和运行/监视/管理工作负荷中的 IT 操作](./media/image1.png)

**图 2-1.** 每个容器化 Docker 应用程序生命周期中的"人员"的主工作负荷

使用 Docker 容器，开发人员自己的容器 （应用程序和服务，并向框架和组件的依赖项） 和容器和服务的行为方式一起作为一个服务的集合构成应用程序中是什么。 在中定义多个容器的相互依赖项`docker-compose.yml`文件，或那些可称为*部署清单*。 同时，（IT 专业人员和管理） 的 IT 运营团队可以专注于生产环境; 的管理基础结构使用;可伸缩性;监视;和从根本上讲，确保该应用程序传送正确的最终用户，而无需了解各种容器的内容。 因此，名称"容器，"重新调用到实际的集装箱类比。 因此的容器的内容所有者需要考虑自身与容器如何需要通过寄送和传送的公司传输从起点到其目标的容器而无需了解或关注的内容。 以类似方式，开发人员可以创建并拥有 Docker 容器，而无需自己考虑"传输"机制中的内容。

在左侧和右侧图 2-1 的支柱，开发人员编写，并在 Docker 容器中本地运行代码，通过使用 Docker 的 Windows 或 mac。 它们使用 Dockerfile，指定基本操作系统以及到 Docker 映像生成其代码的生成步骤运行定义操作环境的代码。 开发人员定义如何一个或多个图像将进行互操作使用前面提到`docker-compose.yml`文件部署清单。 完成其本地开发，它们将推送其应用程序代码加上的 Docker 配置文件到其选择 （也就是说，Git 存储库） 的代码存储库。

DevOps 支柱定义使用在代码存储库中提供的 Dockerfile 生成 – 持续集成 (CI) 管道。 CI 系统从所选的 Docker 注册表中拉取内容的基容器映像，并生成应用程序的自定义 Docker 映像。 映像然后进行验证，并推送到 Docker 注册表用于部署到多个环境。

在右侧的支柱，操作团队管理部署的应用程序和基础结构，以便它们可以提供反馈和有关如何才能在应用程序开发团队的见解，监视的环境和应用程序时的生产环境中改进了。 容器应用程序通常使用容器业务流程协调程序的生产环境中运行。

通过提供关注点的分离为一个协定，从而大大提高应用程序生命周期中的两个团队的协作的基础平台 （Docker 容器），两个团队正在进行协作。 开发人员拥有容器内容、 其运行环境和容器相互依赖关系，而运营团队需要在清单以及构建的映像，并在其业务流程系统中运行它们。

## <a name="challenges-in-application-life-cycle-when-using-docker"></a>使用 Docker 时，挑战中应用程序生命周期。

有很多原因，将在即将发布的年中，增加容器化应用程序的数目和由于以下原因之一是创建基于微服务的应用程序。

在过去 15 年，期间使用的 web 服务已数千个应用程序，基和可能，几年之后，我们会发现这种情况与基于微服务的应用程序在 Docker 容器中运行。

值得还说，还可以使用 Docker 容器的整体式应用程序，并且仍显示最常见的 Docker 的好处。 容器并非针对仅微服务。

使用 Docker 容器化和微服务会导致新的挑战的组织，因此，在开发过程中需要可靠的策略来维护多个容器和微服务在生产系统上运行。 最终，企业应用程序将有数百或数千个容器/生产环境中运行的实例。

使用 DevOps 工具，因此您必须在 DevOps 活动中，定义新的流程和查找此类型的问题时，这些挑战将创建新要求：

- 开发、 CI/CD、 管理和操作可以使用哪些工具？

- 我如何的公司管理容器中的错误在生产环境中运行时？

- 我们应如何更改的最小停机时间的生产环境中我们的软件？

- 我们如何扩展和我们如何监视生产系统？

- 我们如何可以包含容器的测试和部署在我们发布管道中？

- 我们如何使用开源工具/平台的 Microsoft Azure 中的容器？

如果可以解答这些问题，就可以更好地准备好移动到 Docker 容器应用程序 （现有或新应用程序）。 

## <a name="introduction-to-a-generic-end-to-end-docker-application-life-cycle-workflow"></a>泛型的端到端的 Docker 应用程序生命周期工作流简介

图 2-2 提供更详细的工作流的 Docker 应用程序生命周期，在这种情况致力于 DevOps 的特定活动和资产。

![下图显示了 DevOps 的"外部循环"。 代码推送到存储库，CI 管道已启动，然后开始部署应用程序获取在 CD 管道。 从已部署应用程序收集的指标反馈到开发工作负载，出现"内部循环"的位置，因此开发团队必须对用户和业务需求作出响应的实际数据。](./media/image2.png)

**图 2-2。** Docker 容器化应用程序生命周期的高级工作流

开发人员，启动内部循环工作流中编写代码的所有内容开始。 内部循环阶段是开发人员在其中定义发生之前将代码推送到代码存储库 （例如，Git 等源代码管理系统）。 在其后已提交，存储库触发器持续集成 (CI) 和工作流的其余部分。

内部循环基本上包括"与代码一样，""运行"，"test"和"调试，"以及在本地运行应用程序前所需的其他步骤的典型步骤。 这是开发人员的过程来运行和测试应用程序作为 Docker 容器。 内部循环工作流将在后面的部分中所述。

后退一步要查看端到端工作流，DevOps 工作流不只是一项技术或工具集： 它是一种心态需要区域性演变。 它的人员、 流程和相应的工具，以使您的应用程序生命周期更快、 更可预测。 企业通常采用容器化工作流重构其组织来表示人员和流程相匹配的容器化工作流。

DevOps 在其中完成练习可帮助团队更快地响应一起竞争压力通过自动化，这会导致改进可跟踪性和可重复的工作流以代替容易出错的手动过程。 组织还可以更有效地管理环境并实现成本节约与在本地和云资源的组合以及紧密集成的工具。

在实现 Docker 应用程序 DevOps 工作流时，您将看到 Docker 技术是出现在工作流，几乎每个阶段中开发环境中生成测试 CI 阶段中，内部循环 （代码中，运行、 调试） 中工作时，最后，这些容器到过渡和生产环境的部署。

改进质量做法有助于识别在开发周期，降低了成本修复它们的早期的缺陷。 通过在映像中包括的环境和依赖项，并采用相同的映像部署到多个环境的理念，您将升级提取提高部署可靠性的特定于环境的配置这一规定。

通过有效检测 （监视和诊断） 获得的丰富数据提供了深入了解性能问题和用户行为，以指导将来的优先级和投资。

应考虑 DevOps 之旅，而非目的。 它应以增量方式实现通过相应地指定了作用域项目从其演示成功、 学习和发展。

## <a name="benefits-of-devops-for-containerized-applications"></a>容器化应用程序的 DevOps 的优势

下面是一些提供坚实的 DevOps 工作流的最重要好处：

- 更好地符合性以更快地交付更高质量软件。

- 前面更经济实惠地推动持续改进和调整。

- 提高了透明度和交付和运行软件所涉及的利益干系人之间的协作。

- 控制成本并更有效地利用预配的资源，同时最大程度的安全风险。

- 插于许多现有的 DevOps 投资，包括开放源代码中的投资。

>[!div class="step-by-step"]
>[上一页](index.md)
>[下一页](../Microsoft-platform-tools-containerized-apps/index.md)
