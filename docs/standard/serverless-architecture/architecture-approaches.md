---
title: 体系结构方法的无服务器应用
description: 用于构建基于云的企业应用程序，从到无服务器的 N 层体系结构方法体系结构的简介。
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 04ad383586f974bb2dccc4623a9a254f5668dab4
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/10/2018
ms.locfileid: "53126740"
---
# <a name="architecture-approaches"></a>体系结构方法

了解构建企业应用的现有方法可帮助阐明通过无服务器扮演的角色。 有许多方法和数十年的软件开发中不断演变的模式，都具有其自己的优点和缺点。 在许多情况下，最终的解决方案可能涉及确定一种方法，但可能集成多种不同的方法。 迁移方案通常涉及到从一个体系结构方法切换到另一个通过一种混合方法。

本章概述了为企业应用程序的这两个逻辑和物理体系结构模式。

## <a name="architecture-patterns"></a>体系结构模式

现代业务应用程序遵循多种体系结构模式。 本部分表示的常见模式的调查。 此处列出的模式并不一定所有最佳实践，但说明了不同的方法。

有关详细信息，请参阅[Azure 应用程序体系结构指南](https://docs.microsoft.com/azure/architecture/guide/)。

## <a name="monoliths"></a>庞大的单体结构

许多业务应用程序遵循单体架构模式。 旧版应用程序通常实现为庞大的单体结构。 在整体应用程序模式中，单个部署中包含所有应用程序问题。 从用户界面到数据库调用的一切尽在相同的基本代码。

![整体应用程序体系结构](./media/monolith-architecture.png)

有几个优势的单体架构方法。 通常很容易提取单个代码库，并开始处理。 加速时间可能会更少，并创建测试环境非常简单，提供的新副本。 单体结构可能会设计为包括多个组件和应用程序。

遗憾的是，整体应用程序模式通常会分解在规模较大。 单体架构方法的主要缺点包括：

* 很难在相同的基本代码中的并行工作。
* 任何更改，哪怕微不足道，都要求部署整个应用程序的新版本。
* 重构可能会影响整个应用程序。
* 唯一的解决方案，缩放通常是创建多个占用大量资源的副本的单体结构。
* 当系统展开或获取其他系统时，集成可能很困难。
* 它可能很难测试由于需要在要配置整个单体架构。
* 代码重用具有挑战性，其他应用程序最终通常具有其自己的代码的副本。

许多企业到云环境查找的机会来将整体应用程序应用程序迁移和在同一时间对其进行重构为更多可用的模式。 很常见，用于显示单个应用程序和组件，让他们可以维护、 部署，以及单独缩放。

## <a name="n-layer-applications"></a>N 层应用程序

N 层应用程序分区到特定层的应用程序逻辑。 最常见的层包括：

* 用户界面
* 业务逻辑
* 数据访问

其他层可能包括中间件、 批处理和 API。 请务必注意这些层分为逻辑。 尽管他们正在开发中隔离，但它们可能全部部署到相同的目标平台。

![N 层体系结构](./media/n-layer-architecture.png)

有几个优势的 N 层方法，包括：

* 重构是隔离到一个层。
* 团队可以独立地构建、 测试、 部署和维护不同的层。
* 层可以换出，例如数据层可能会访问多个数据库，而无需更改 UI 层。

无服务器可能用于实现一个或多个层。

## <a name="microservices"></a>微服务

**[微服务](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/microservices)** 体系结构包含包括的共同特征：

* 应用程序由多个小型服务组成。
* 每个服务在其自己的进程中运行。
* 服务对齐围绕业务域。
* 服务通过轻量 Api，通常使用 HTTP 作为传输协议进行通信。
* 服务可以部署和独立升级。
* 服务并不是依赖于单个数据存储区。
* 系统设计与失败的需求，并甚至某些服务失败时，可能仍会运行该应用程序。

微服务不一定要与其他体系结构方式互相排斥。 例如，N 层体系结构可能会为中间层使用微服务。 还有可能要在有许多种情况下，从 IIS 到容器主机上的虚拟目录中实现微服务。 微服务的特征，使它们尤其适合无服务器实现。

![微服务体系结构](./media/microservices-architecture.png)

微服务体系结构的优点包括：

* 重构是通常独立于单个服务。
* 服务可以互相独立地进行升级。
* 可以为单独的服务的需求优化复原能力和灵活性。
* 开发可以并行发生跨不同的团队和平台。
* 它是更轻松地编写的独立服务的全面测试。

微服务有其特有的挑战，包括：

* 确定哪些服务以及如何对其进行调用。
* 管理服务的生命周期。
* 了解如何服务组合在一起在整个应用程序中。
* 完整的系统调用跨不同服务所做的测试。

最终有的解决方案来满足所有这些挑战，包括利用讨论了更高版本的无服务器的优势。

>[!div class="step-by-step"]
>[上一页](index.md)
>[下一页](architecture-deployment-approaches.md)