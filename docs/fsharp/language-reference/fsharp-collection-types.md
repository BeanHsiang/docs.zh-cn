---
title: F# 集合类型
description: '了解有关 F # 集合类型以及从.NET Framework 中的集合类型之间的区别。'
ms.date: 05/16/2016
ms.openlocfilehash: a3cfc3f06582c31a79dce43b583eca39f69ddf1e
ms.sourcegitcommit: db8b83057d052c1f9f249d128b08d4423af0f7c2
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/02/2018
ms.locfileid: "43864756"
---
# <a name="f-collection-types"></a>F# 集合类型

通过查看本主题，您可以确定哪些 F # 集合类型最适合特定需求。 这些集合类型不同于在.NET Framework 中，如中的集合类型`System.Collections.Generic`命名空间，因为 F # 集合类型旨在从功能编程的角度来看，而不是一个面向对象的透视。 具体而言，仅数组集合具有可变的元素。 因此，当修改集合时，您创建修改后的集合，而不是更改原始集合的实例。

在对象存储的数据结构的类型也存在差异的集合类型。 如哈希表、 链接的列表和数组的数据结构具有不同的性能特征和一组不同的可用操作。

## <a name="f-collection-types"></a>F# 集合类型

下表显示了 F # 集合类型。

|类型|描述|相关链接|
|----|-----------|-------------|
|[List](https://msdn.microsoft.com/library/c627b668-477b-4409-91ed-06d7f1b3e4a7)|相同类型的元素的有序的、 不可变系列。 作为链接列表实现。|[列表](lists.md)<br /><br />[列表模块](https://msdn.microsoft.com/library/a2264ba3-2d45-40dd-9040-4f7aa2ad9788)|
|[数组](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)|连续数据元素的都是相同类型的固定大小、 从零开始的可变集合。|[数组](arrays.md)<br /><br />[Array 模块](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)<br /><br />[Array2D 模块](https://msdn.microsoft.com/library/ae1a9746-7817-4430-bcdb-a79c2411bbd3)<br /><br />[Array3D 模块](https://msdn.microsoft.com/library/c8355e2d-add8-48a4-8aa6-1c57ae74c560)|
|[seq](https://msdn.microsoft.com/library/2f0c87c6-8a0d-4d33-92a6-10d1d037ce75)|是一种类型的所有元素的逻辑系列。 具有较大，有序数据集合，但不一定希望使用的所有元素时，序列是特别有用。 各序列元素计算仅为所需，因此可以比列表更好地执行序列，如果未使用的所有元素。 序列由`seq<'T>`类型，即别名为`IEnumerable<T>`。 因此，任何.NET Framework 类型实现`System.Collections.Generic.IEnumerable<'T>`可作为一个序列。|[序列](sequences.md)<br /><br />[Seq 模块](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684)|
|[映射](https://msdn.microsoft.com/library/975316ea-55e3-4987-9994-90897ad45664)|元素的一个不可变字典。 密钥访问元素。|[映射模块](https://msdn.microsoft.com/library/bfe61ead-f16c-416f-af98-56dbcbe23e4f)|
|[Set](https://msdn.microsoft.com/library/50cebdce-0cd7-4c5c-8ebc-f3a9e90b38d8)|基于二进制树，其中的 comparison 是 F # 结构比较函数，它可能使用的实现的不可变集`System.IComparable`键值上的接口。|[设置模块](https://msdn.microsoft.com/library/61efa732-d55d-4c32-993f-628e2f98e6a0)|

### <a name="table-of-functions"></a>函数表

本部分比较适用于 F # 集合类型的函数。 给定的函数的计算的复杂程度，其中 N 是第一个集合的大小，如果有，M 是第二个集合的大小。 短划线 （-） 指示此函数不在集合上可用。 由于延迟评估序列，如 Seq.distinct 函数可能会 o （1） 它会立即返回，因为虽然它仍会影响序列枚举时的性能。

|函数|数组|列表|序列|映射|Set|描述|
|--------|-----|----|--------|---|---|-----------|
|append|O(M)|O （N)|O （N)|-|-|返回包含后跟第二个集合的元素的第一个集合的元素的新集合。|
|添加|-|-|-|O (log N)|O (log N)|已添加元素返回一个新集合。|
|平均值|O （N)|O （N)|O （N)|-|-|返回集合中的元素的平均值。|
|averageBy|O （N)|O （N)|O （N)|-|-|返回的结果提供的函数应用于每个元素的平均值。|
|位块|O （N)|-|-|-|-|数组的一部分进行复制。|
|缓存|-|-|O （N)|-|-|计算并存储序列的元素。|
|强制转换|-|-|O （N)|-|-|将元素转换为指定的类型。|
|选择|O （N)|O （N)|O （N)|-|-|将给定的函数应用`f`于每个元素`x`的列表。 返回包含结果的每个元素的列表函数为其返回`Some(f(x))`。|
|收集|O （N)|O （N)|O （N)|-|-|将给定的函数应用于集合的每个元素，连接所有结果，并返回合并的列表。|
|compareWith|-|-|O （N)|-|-|使用给定的比较函数逐个元素比较两个序列。|
|concat|O （N)|O （N)|O （N)|-|-|将合并为单个串联的枚举给定-的枚举枚举。|
|包含|-|-|-|-|O (log N)|如果该集合包含指定的元素，则返回 true。|
|containsKey|-|-|-|O (log N)|-|测试元素是否是域中的映射。|
|count|-|-|-|-|O （N)|返回集合中元素的数目。|
|countBy|-|-|O （N)|-|-|将键生成函数应用于每个元素的序列，并返回生成的唯一键和其出现次数的原始顺序的序列。|
|copy|O （N)|-|O （N)|-|-|将集合复制。|
|创建|O （N)|-|-|-|-|创建的所有最初都为给定的值的整个元素的数组。|
|延迟|-|-|O （1)|-|-|返回从序列的给定延迟规范生成的序列。|
|差异|-|-|-|-|O (M &#42; log N)|返回从第一个集合中移除的第二个集的元素的新集。|
|非重复|||O （1)&AMP;#42;|||返回一个序列，其中包含根据泛型哈希和相等比较的项没有重复项。 如果一个元素序列中出现多次，则放弃更高版本的出现次数。|
|distinctBy|||O （1)&AMP;#42;|||返回一个序列，其中不包含重复项根据泛型哈希和相等性比较给定的键生成函数返回的键。 如果一个元素序列中出现多次，则放弃更高版本的出现次数。|
|空|O （1)|O （1)|O （1)|O （1)|O （1)|创建一个空集合。|
|exists|O （N)|O （N)|O （N)|O (log N)|O (log N)|测试是否序列中的任何元素满足给定的谓词。|
|exists2|O(min(N,M))|-|O(min(N,M))|||测试是否的任何输入序列中的相应元素对满足给定的谓词。|
|fill|O （N)|||||数组的元素的一系列设置为给定的值。|
|筛选器|O （N)|O （N)|O （N)|O （N)|O （N)|返回一个新集合包含给定的谓词为其返回集合中的元素仅`true`。|
|find|O （N)|O （N)|O （N)|O (log N)|-|返回给定的函数为其返回的第一个元素`true`。 返回`System.Collections.Generic.KeyNotFoundException`如果此类元素不存在。|
|findIndex|O （N)|O （N)|O （N)|-|-|返回满足给定的谓词的数组中的第一个元素的索引。 引发`System.Collections.Generic.KeyNotFoundException`如果没有元素满足该谓词。|
|findKey|-|-|-|O (log N)|-|计算的在集合中，每个映射函数的值，并返回第一个映射的键函数为其返回`true`。 如果此类元素不存在，此函数将引发`System.Collections.Generic.KeyNotFoundException`。|
|折叠|O （N)|O （N)|O （N)|O （N)|O （N)|将函数应用于每个元素的集合，通过计算使用一个累加器参数。 如果输入的函数为 f，并且元素为 i0...中的，此函数将计算 f （...(f s i0)...)在中。|
|fold2|O （N)|O （N)|-|-|-|将函数应用于两个集合，通过计算使用一个累加器参数的相应元素。 集合必须具有相同的大小。 如果输入的函数为 f 并且元素为 i0...中的和 j0...jN，此函数将计算 f （...(f i0 s j0)...)在 jN.|
|foldBack|O （N)|O （N)|-|O （N)|O （N)|将函数应用于每个元素的集合，通过计算使用一个累加器参数。 如果输入的函数为 f，并且元素为 i0...中的，此函数计算 f i0 （...(f s 中))。|
|foldBack2|O （N)|O （N)|-|-|-|将函数应用于两个集合，通过计算使用一个累加器参数的相应元素。 集合必须具有相同的大小。 如果输入的函数为 f 并且元素为 i0...中的和 j0...jN，此函数计算 f i0 j0 （...(f jN s 中))。|
|forall|O （N)|O （N)|O （N)|O （N)|O （N)|测试是否集合的所有元素都满足给定的谓词。|
|forall2|O （N)|O （N)|O （N)|-|-|测试是否集合的所有对应元素满足给定的谓词配对。|
|获取 / 第 n 个|O （1)|O （N)|O （N)|-|-|从给定索引的集合返回一个元素。|
|head|-|O （1)|O （1)|-|-|返回集合的第一个元素。|
|init|O （N)|O （N)|O （1)|-|-|创建给定维度和一个生成器函数以便计算元素的集合。|
|initInfinite|-|-|O （1)|-|-|生成的序列，进行迭代时，通过调用给定的函数返回连续的元素。|
|Intersect|-|-|-|-|O (log N &#42;日志 M)|计算两个集的交集。|
|intersectMany|-|-|-|-|O (N1 &AMP;#42; N2...)|计算集合序列的交集。 序列不能为空。|
|IsEmpty|O （1)|O （1)|O （1)|O （1)|-|返回`true`集合是否为空。|
|isProperSubset|-|-|-|-|O (M &#42; log N)|返回`true`如果第一个集的所有元素都是第二个集中，并且至少一个元素的第二个集不在第一组。|
|isProperSuperset|-|-|-|-|O (M &#42; log N)|返回`true`如果第二个集的所有元素都均在第一个集中，并且至少一个元素的第一组不在第二个集中。|
|isSubset|-|-|-|-|O (M &#42; log N)|返回`true`如果第一个集的所有元素都均在第二个集中。|
|isSuperset|-|-|-|-|O (M &#42; log N)|返回`true`如果第二个集的所有元素都均在第一组中。|
|Iter|O （N)|O （N)|O （N)|O （N)|O （N)|将给定的函数应用于集合的每个元素。|
|iteri|O （N)|O （N)|O （N)|-|-|将给定的函数应用于集合的每个元素。 传递给函数的整数指示元素的索引。|
|iteri2|O （N)|O （N)|-|-|-|将给定的函数应用到的一对来自匹配两个数组中的索引处的元素。 传递给函数的整数指示元素的索引。 两个数组必须具有相同的长度。|
|iter2|O （N)|O （N)|O （N)|-|-|将给定的函数应用到的一对来自匹配两个数组中的索引处的元素。 两个数组必须具有相同的长度。|
|length|O （1)|O （N)|O （N)|-|-|返回集合中的元素数。|
|map|O （N)|O （N)|O （1)|-|-|生成一个集合，其元素是将给定的函数应用于数组的每个元素的结果。|
|map2|O （N)|O （N)|O （1)|-|-|生成一个集合，其元素是两个集合的对应元素成对应用给定的函数的结果。 两个输入的数组必须具有相同的长度。|
|map3|-|O （N)|-|-|-|生成一个集合，其元素是三个集合的对应元素同时应用给定的函数的结果。|
|mapi|O （N)|O （N)|O （N)|-|-|生成一个数组，其元素是将给定的函数应用于数组的每个元素的结果。 传递给函数的整数索引指示所转换的元素的索引。|
|mapi2|O （N)|O （N)|-|-|-|生成一个集合，其元素是成对，同时传递元素的索引的两个集合的对应元素应用给定的函数的结果。 两个输入的数组必须具有相同的长度。|
|max|O （N)|O （N)|O （N)|-|-|返回的最大的元素在集合中，通过使用比较[最大](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)运算符。|
|maxBy|O （N)|O （N)|O （N)|-|-|返回的最大的元素在集合中，通过使用比较[最大](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)对函数结果。|
|maxElement|-|-|-|-|O (log N)|返回用于集依据的排序集内的最大元素。|
|min|O （N)|O （N)|O （N)|-|-|返回的最少的元素在集合中，通过使用比较[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)运算符。|
|minBy|O （N)|O （N)|O （N)|-|-|返回的最少的元素在集合中，通过使用比较[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)对函数结果的运算符。|
|minElement|-|-|-|-|O (log N)|返回用于集依据的排序集内的最小元素。|
|ofArray|-|O （N)|O （1)|O （N)|O （N)|创建包含与给定数组相同的元素的集合。|
|ofList|O （N)|-|O （1)|O （N)|O （N)|创建包含与给定的列表相同的元素的集合。|
|ofSeq|O （N)|O （N)|-|O （N)|O （N)|创建包含与给定序列相同的元素的集合。|
|成对|-|-|O （N)|-|-|在输入的序列和其前身除外只能作为第二个元素的前置任务返回的第一个元素中返回的每个元素的序列。|
|partition|O （N)|O （N)|-|O （N)|O （N)|将拆分成两个集合的集合。 第一个集合包含给定的谓词为其返回的元素`true`，并且第二个集合包含给定的谓词为其返回的元素`false`。|
|permute|O （N)|O （N)|-|-|-|与重新排序依据指定排列的所有元素返回一个数组。|
|选取|O （N)|O （N)|O （N)|O (log N)|-|将给定的函数应用于连续的元素，返回第一个结果，该函数将返回一些。 如果该函数从不返回一些，`System.Collections.Generic.KeyNotFoundException`引发。|
|readonly|-|-|O （N)|-|-|创建委托给给定的序列对象的序列对象。 此操作可确保类型强制转换不能重新发现和改变原始序列。 例如，如果提供了数组，返回的序列将返回数组的元素，但您不能将返回的序列对象转换为数组。|
|reduce|O （N)|O （N)|O （N)|-|-|将函数应用于每个元素的集合，通过计算使用一个累加器参数。 此函数首先会将函数应用于前两个元素，将此结果传递第三个元素等一起注入函数。 该函数返回的最终结果。|
|reduceBack|O （N)|O （N)|-|-|-|将函数应用于每个元素的集合，通过计算使用一个累加器参数。 如果输入的函数为 f，并且元素为 i0...中的，此函数计算 f i0 （...(f in-1 iN))。|
|remove|-|-|-|O (log N)|O (log N)|从映射的域中移除一个元素。 如果该元素不存在，则会不引发任何异常。|
|复制|-|O （N)|-|-|-|创建指定长度的列表，其中每个元素设置为给定的值。|
|rev|O （N)|O （N)|-|-|-|按相反顺序返回元素的新列表。|
|扫描|O （N)|O （N)|O （N)|-|-|将函数应用于每个元素的集合，通过计算使用一个累加器参数。 此操作将函数应用于第二个参数和列表的第一个元素。 然后，操作等将此结果传递给函数和第二个元素。 最后，该操作返回中间结果和最终结果的列表。|
|scanBack|O （N)|O （N)|-|-|-|类似于 foldBack 操作，但返回这两个中间结果和最终结果。|
|单一实例|-|-|O （1)|-|O （1)|返回生成只有一个项的序列。|
|set|O （1)|-|-|-|-|将数组的元素设置为指定的值。|
|skip|-|-|O （N)|-|-|返回跳过基础序列的 n 个元素，然后生成序列中的剩余元素的序列。|
|SkipWhile|-|-|O （N)|-|-|返回一个序列，进行迭代时，跳过基础序列的元素时的给定谓词返回`true`，然后生成序列的剩余元素。|
|sort|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|O (N log N)|O (N log N)|-|-|对集合排序元素的值。 使用比较元素[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortBy|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|O (N log N)|O (N log N)|-|-|按使用给定的投影提供的密钥对给定的列表进行排序。 使用密钥进行比较[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlace|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|-|-|-|-|数组的元素进行排序通过就地转变，并使用给定的比较函数。 通过使用元素进行比较[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceBy|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|-|-|-|-|数组的元素进行排序进行就地转变为各个键使用给定的投影。 通过使用元素进行比较[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceWith|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|-|-|-|-|对数组的元素通过就地转变并使用给定的比较函数作为排序顺序进行排序。|
|sortWith|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|O (N log N)|-|-|-|使用给定的比较函数作为排序顺序和返回一个新集合的集合的元素进行排序。|
|sub|O （N)|-|-|-|-|生成一个包含指定的起始索引和长度的给定子范围的数组。|
|sum|O （N)|O （N)|O （N)|-|-|返回集合中元素的总和。|
|sumBy|O （N)|O （N)|O （N)|-|-|返回通过将函数应用于集合的每个元素生成的结果的总和。|
|结尾|-|O （1)|-|-|-|返回不带其第一个元素的列表。|
|Take|-|-|O （N)|-|-|返回元素的顺序，直至指定的计数。|
|TakeWhile|-|-|O （1)|-|-|返回一个序列，进行迭代时，会生成基础序列的元素时的给定谓词返回`true`，然后返回没有更多元素。|
|ToArray|-|O （N)|O （N)|O （N)|O （N)|从给定集合中创建一个数组。|
|ToList|O （N)|-|O （N)|O （N)|O （N)|从给定集合中创建一个列表。|
|toSeq|O （1)|O （1)|-|O （1)|O （1)|从给定集合中创建一个序列。|
|截断|-|-|O （1)|-|-|返回一个序列，该对象枚举，返回不超过 N 个元素。|
|tryFind|O （N)|O （N)|O （N)|O (log N)|-|搜索满足给定的谓词的元素。|
|tryFindIndex|O （N)|O （N)|O （N)|-|-|搜索满足给定的谓词并返回匹配的元素的索引的第一个元素或`None`如果此类元素不存在。|
|tryFindKey|-|-|-|O (log N)|-|返回满足给定的谓词，或返回的集合中的第一个映射的键`None`如果此类元素不存在。|
|tryPick|O （N)|O （N)|O （N)|O (log N)|-|将给定的函数应用于连续的元素，返回第一个结果函数为其返回`Some`某些值。 如果此类元素不存在，该操作返回`None`。|
|展开|-|-|O （N)|-|-|返回一个序列，其中包含给定的计算生成的元素。|
|union|-|-|-|-|O (M &#42; log N)|计算两个集的并集。|
|unionMany|-|-|-|-|O (N1 &AMP;#42; N2...)|计算集合序列的并集。|
|unzip|O （N)|O （N)|O （N)|-|-|将一个配对列表拆分成两个列表。|
|unzip3|O （N)|O （N)|O （N)|-|-|将三元组列表拆分成三个列表。|
|开窗|-|-|O （N)|-|-|返回一个序列，其中将生成包含从输入序列中提取的元素的滑动窗口。 新数组形式返回，每个窗口。|
|zip|O （N)|O （N)|O （N)|-|-|将对的两个集合合并列表。 两个列表都必须具有相等的长度。|
|zip3|O （N)|O （N)|O （N)|-|-|将三元组的三个集合合并列表。 列表必须相等的长度。|

## <a name="see-also"></a>请参阅

- [F# 类型](fsharp-types.md)
- [F# 语言参考](index.md)
